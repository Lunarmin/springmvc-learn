<!DOCTYPE html>
<html>
<script src="${request.contextPath}/static/js/jquery-2.1.0.js"></script>
<script type="text/javascript" src="${request.contextPath}/static/js/plupload.full.min.js"></script>

<head>
<meta charset="UTF-8">
<title>断点续传</title>
</head>
<body>
<h2>Hello World!</h2>

    <p>
        <button id="browse">选择文件</button>
        <button id="start_upload">开始上传</button>
        <button id="stop_upload">暂停上传</button>
    </p>

<script type="text/javascript">
$(function(){
	var uploader = new plupload.Uploader({
	  runtimes:'html5,flash,silverlight,html4',
	  browse_button : 'browse', //触发文件选择对话框的按钮，为那个元素id
	  url:'${request.contextPath}/plup/upload',
	  filters:{
		  mime_types : [ //只允许上传图片和zip文件
			  { title : "Video files", extensions : "avi,mp4,rmvb,wmv" }
			  ],
		  prevent_duplicates : true //不允许选取重复文件
	  },
	  multipart: true,
	  chunk_size: '5mb'  
	});
	
	
	uploader.init();
	
	$('#start_upload').on('click',function(){
		uploader.start();
	});
	
	$('#stop_upload').on('click',function(){
		uploader.stop();
	});
});

</script>
</body>
</html>